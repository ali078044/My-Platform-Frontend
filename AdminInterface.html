<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة تحكم المعلم</title>
    <!-- Quill Rich Text Editor -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <style>
        :root { --primary:#007bff; --secondary:#6c757d; --success:#28a745; --light:#f8f9fa; --dark:#343a40; --border:#dee2e6; --radius: 8px; --shadow: 0 4px 12px rgba(0,0,0,0.1); }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--light); margin: 0; padding: 20px; }
        header { background: white; padding: 15px 30px; border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        header h2 { margin: 0; color: var(--dark); }
        #logoutBtn { background: var(--secondary); color: white; border: none; padding: 10px 15px; border-radius: var(--radius); cursor: pointer; font-weight: bold; }
        .container { max-width: 900px; margin: auto; background: #fff; padding: 25px; border-radius: var(--radius); box-shadow: var(--shadow); }
        h3 { text-align: center; color: var(--dark); margin-bottom: 20px; }
        .step { display: none; } .step.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .form-group { margin-bottom: 15px; }
        label { font-weight: bold; display: block; margin-bottom: 5px; }
        input[type="text"], input[type="url"], select { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 4px; box-sizing: border-box; }
        .nav-buttons { margin-top: 20px; display: flex; justify-content: space-between; }
        button { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; background-color: var(--primary); color: #fff; font-size: 1rem; }
        .question-block { border: 1px dashed var(--border); padding: 15px; border-radius: 5px; margin-top: 20px; }
        .question-block input { margin-bottom: 5px; }
        .editor-container { direction: ltr; } /* Quill works best in LTR */
        .ql-editor { min-height: 120px; }
        #status { text-align: center; margin-top: 20px; font-weight: bold; padding: 10px; border-radius: 5px; display: none; }
        .success { background-color: #d4edda; color: #155724; display: block; }
        .error { background-color: #f8d7da; color: #721c24; display: block; }
    </style>
</head>
<body>
    <header>
        <h2 id="adminName">لوحة التحكم</h2>
        <button id="logoutBtn">تسجيل الخروج</button>
    </header>

    <div class="container">
        <h3>إضافة محتوى درس جديد</h3>
        <form id="addLessonForm">
            <!-- Step 1: Classification -->
            <div id="step1" class="step active">
                <div class="form-group"><label>الصف:</label><select id="class" required></select></div>
                <div class="form-group"><label>المادة:</label><select id="subject" required></select></div>
                <div class="form-group"><label>الفصل:</label><select id="chapter" required></select></div>
            </div>
            <!-- Step 2: Content -->
            <div id="step2" class="step">
                <div class="form-group"><label>اسم الدرس:</label><input type="text" id="lessonName" required></div>
                <div class="form-group"><label>تسلسل الدرس:</label><input type="text" id="lessonNumber" required></div>
                <div class="form-group"><label>الهدف التعليمي:</label><div class="editor-container"><div id="objective"></div></div></div>
                <div class="form-group"><label>هل تعلم؟</label><div class="editor-container"><div id="didYouKnow"></div></div></div>
                <div class="form-group"><label>نص الدرس:</label><div class="editor-container"><div id="lessonText"></div></div></div>
                <div class="form-group"><label>الخلاصة:</label><div class="editor-container"><div id="summary"></div></div></div>
                <div class="form-group"><label>رابط PDF (اختياري):</label><input type="url" id="pdfLink"></div>
                <div class="form-group"><label>رابط YouTube (اختياري):</label><input type="url" id="videoLink"></div>
            </div>
            <!-- Step 3: Questions -->
            <div id="step3" class="step">
                <div id="questionsContainer"></div>
            </div>
            <div class="nav-buttons">
                <button type="button" id="prevBtn" style="visibility:hidden;">السابق</button>
                <button type="button" id="nextBtn">التالي</button>
                <button type="submit" id="submitBtn" style="display:none;">حفظ الدرس</button>
            </div>
        </form>
        <div id="status"></div>
    </div>
    <script src="script.js"></script>
</body>
</html>

